<!DOCTYPE html>
<html>
    <head>
        <title>ayy lmao</title>
        <script src="./../node_modules/tincanjs/build/tincan.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <!-- <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script> -->
        <!-- <script src="./js/chance.js"></script> -->
        <!-- <script src="./js/onderwijsdata.min.js"></script> -->
        <!-- <script src="./js/names.js"></script> -->
        <!-- <script src="./js/locations.js"></script> -->
        <style>
            body {
                font-family: "Courier New";
            }
            .contain, .container {
                border: 2px solid black;
            }
            .ind {
                font-family: Wingdings;
            }
            .unready {
                color: red;
            }
            .ready {
                color: lime;
            }
            table {
                width: 100%;
                padding-left: auto;
                padding-right: auto;
            }
            td {
                padding-bottom: 5px;
            }
        </style>
    </head>
    <body>
        <h1 class="anagram">LRS TESTING THO</h1>
        <div class="contain"><p><button class="postbutton">POST</button></p><p><button class="getbutton">GET</button></p></div>
        <script>
            function setHeaders(xhr,headerobj){
                for (var headername in headerobj) {
                    xhr.setRequestHeader(headername, headerobj[headername]);
                }
            }
            function logParsedResponse(e){
                if (this.readyState === 4 && this.status === 200) {
                    console.log(JSON.parse(this.response));
                }
            }

            function xmlPostLogged (url, headers, data) {
                var req = new XMLHttpRequest();
                req.open("POST",url);
                setHeaders(req,headers);
                req.onreadystatechange = logParsedResponse;
                req.send(JSON.stringify(data));
            }

            function xmlGetLogged (url, headers) {
                var req = new XMLHttpRequest();
                req.open("GET",url);
                setHeaders(req,headers);
                req.onreadystatechange = logParsedResponse;
                req.send(null);
            }

            var headers = {
                "Authorization": "Basic " + btoa("cameron:lig89324ehater"),
                "Content-Type": "application/json",
                "X-Experience-API-Version": "1.0.1"
            };
            // var lrs = "http://lrs-dev.ic.uva.nl:8080/larissa/xAPI/statements";
            var lrs = "https://centaurus.ic.uva.nl/larissa/xAPI/statements";
            var data = {
                actor: {
                    objectType: "Agent",
                    mbox: "mailto:shto@blat.com"
                },
                verb: {
                    id: "http://adlnet.gov/expapi/verbs/attempted",
                    display: {
                        "en-US": "attempted"
                    }
                },
                object: {
                    objectType: "Activity",
                    id: "http://rusticisoftware.github.com/TinCanJS"
                }
            };

            $(".postbutton").on("click", function(){
                xmlPostLogged(lrs,headers,data);
            });
            $(".getbutton").on("click", function(){
                xmlGetLogged(lrs,headers);
            });

            $(document).ready(function(){
                // vitamins ready
            });
        </script>
    </body>
</html>
